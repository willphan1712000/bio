{"version":3,"file":"checkoutjs11a6c850515bf4c52ebd.js","mappings":"MAEA,IAAIA,EAAOC,KAAKC,MAAMC,aAAaC,QAAQ,SAC3C,MAAMC,EAAQ,GAGQ,SAAnBC,iBACDN,EAAO,CAAC,EACRA,EAAKM,iBAAkB,GAIzB,IAAI,MAAMC,KAAOP,EACfK,EAAMG,KAAK,CACTC,GAAIF,EACJG,SAAUV,EAAKO,GAAO,EAAIP,EAAKO,KAKnC,MAAMI,EAASC,OApBQ,gHAyBvBC,wBAWyBF,EAAOG,qBAAqB,CACjDC,kBAXwBF,UACxB,MAAMG,QAAiBC,MAAM,4BAA6B,CACxDC,OAAQ,OACRC,QAAS,CAAE,eAAgB,oBAC3BC,KAAMnB,KAAKoB,UAAU,CAAEhB,QAAOiB,SAAUhB,oBAEpC,aAAEiB,SAAuBP,EAASQ,OACxC,OAAOD,CAAY,KAQZE,MAAM,YACjB,CApBAC,E","sources":["webpack://htdocs/./controllers/client/src/checkout.js"],"sourcesContent":["const publishableKey = process.env.STRIPE_PUBLISHABLE_KEY\n\nlet cart = JSON.parse(localStorage.getItem(\"cart\")); // get cart from local storage\nconst items = []; // items object will be sent over the server for processing\n\n// Check if there is a single checkout\nif(singleCheckout !== \"null\") {\n  cart = {}\n  cart[singleCheckout] = true\n}\n\n// for loop to make the items object complete\nfor(const key in cart) {\n  items.push({\n    id: key,\n    quantity: cart[key] ? 1 : cart[key],\n  })\n}\n\n// This is your test secret API key.\nconst stripe = Stripe(publishableKey);\n\ninitialize();\n\n// Create a Checkout Session\nasync function initialize() {\n  const fetchClientSecret = async () => {\n    const response = await fetch(\"/data/stripe/checkout.php\", {\n      method: \"POST\",\n      headers: { \"Content-Type\": \"application/json\" },\n      body: JSON.stringify({ items, username, singleCheckout }),\n    });\n    const { clientSecret } = await response.json();\n    return clientSecret;\n  };\n\n  const checkout = await stripe.initEmbeddedCheckout({\n    fetchClientSecret,\n  });\n\n  // Mount Checkout\n  checkout.mount('#checkout');\n}"],"names":["cart","JSON","parse","localStorage","getItem","items","singleCheckout","key","push","id","quantity","stripe","Stripe","async","initEmbeddedCheckout","fetchClientSecret","response","fetch","method","headers","body","stringify","username","clientSecret","json","mount","initialize"],"sourceRoot":""}