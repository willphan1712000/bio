(()=>{"use strict";var e={8777:function(e,t,s){var i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.$$$=function(e,t,s,i,r,d){return void 0!==t&&void 0!==s&&void 0!==i&&void 0!==r&&void 0!==d?new u(e,t,s,i,r,d):void 0!==t&&void 0!==s&&void 0!==i&&void 0!==r?new c(e,t,s,i,r):void 0!==t&&void 0!==s&&void 0!==i?new l(e,t,s,i):void 0!==t&&void 0!==s?new a(e,t,s):void 0!==t?new o(e,t):new n(e)};const r=i(s(455));class n{constructor(e){this.ele1=e}}class o{constructor(e,t){this.ele1=e,this.ele2=t}api(){return new p(this.ele1,this.ele2)}}class a{constructor(e,t,s){this.ele1=e,this.ele2=t,this.ele3=s}signup(){return new h(this.ele1,this.ele2,this.ele3)}formValidate(){return new d(this.ele1,this.ele2,this.ele3)}}class l{constructor(e,t,s,i){this.ele1=e,this.ele2=t,this.ele3=s,this.ele4=i}}class c{constructor(e,t,s,i,r){this.ele1=e,this.ele2=t,this.ele3=s,this.ele4=i,this.ele5=r}}class u{constructor(e,t,s,i,r,n){this.ele1=e,this.ele2=t,this.ele3=s,this.ele4=i,this.ele5=r,this.ele6=n}}class d extends a{constructor(e,t,s){if(super(e,t,s),this.inputElement=e,this.feedbackElement=t,this.regex=s,this.isValid=!0,null===this.inputElement)throw new Error("Input Element is not defined or rendered");if(null===this.feedbackElement)throw new Error("Feedback Element is not defined or rendered");this.execute()}setValidity(e){this.isValid=e}getValidity(){return this.isValid}execute(){const e=new RegExp(this.regex);return this.inputElement.addEventListener("input",(t=>{const s=t.target;""!==s.value?e.test(s.value)?(this.setValidity(!0),this.feedbackElement.innerHTML='<i style="color: green;" class="fa-solid fa-check"></i>'):(this.setValidity(!1),this.feedbackElement.innerHTML='<i style="color: red;" class="fa-solid fa-x"></i>'):(this.feedbackElement.innerHTML="",this.setValidity(!0))})),this}cleanup(){return this.inputElement.removeEventListener("input",(()=>{})),this}}class h extends a{constructor(e,t,s){super(e,t,s),this.signUpUI=new r.default(e,t,s)}}class p extends o{constructor(e,t){super(e,t)}get(){return new Promise(((e,t)=>{$.ajax({url:this.ele1,method:"GET",dataType:"json",contentType:"application/json",success:t=>{e(t)},error:(e,s,i)=>{throw t({error:"Request failed due to network connection failed"}),new Error(`AJAX request failed: ${s}, ${i}`)}})}))}post(){return new Promise(((e,t)=>{$.ajax({url:this.ele1,method:"POST",data:JSON.stringify(this.ele2),dataType:"json",contentType:"application/json",success:t=>{e(t)},error:(e,s,i)=>{throw t({error:"Request failed due to network connection failed"}),new Error(`AJAX request failed: ${s}, ${i}`)}})}))}}},9184:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.default=class{constructor(e,t){this.$checkbox=$(e),this.$checkbox.on("change",(e=>{t.update()}))}isChecked(){return this.$checkbox.is(":checked")}}},8813:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.default=class{constructor(e,t){this.$email=$(e),this.$email.on("input",(e=>{t.update()}))}getEmail(){return this.$email.val()}}},7087:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.default=class{constructor(e){this.$error=$(e)}setError(e){this.$error.html(e)}}},3984:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.default=class{constructor(e,t){this.$password=$(e),this.$password.on("input",(e=>{t.update()}))}getPassword(){return this.$password.val()}}},4340:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.default=class{constructor(e,t){this.$register=$(e),this.isEnabled=!1,this.isDisabledHandling(),this.$register.click((e=>{e.preventDefault(),t.signup()}))}enabled(e){this.isEnabled=e,this.isEnabled?this.isEnabledHandling():this.isDisabledHandling()}isEnabledHandling(){this.$register.prop("disabled",!1),this.$register.css({backgroundColor:"#cec3e7"})}isDisabledHandling(){this.$register.prop("disabled",!0),this.$register.css({backgroundColor:"#c6c6c6"})}}},455:function(e,t,s){var i=this&&this.__awaiter||function(e,t,s,i){return new(s||(s=Promise))((function(r,n){function o(e){try{l(i.next(e))}catch(e){n(e)}}function a(e){try{l(i.throw(e))}catch(e){n(e)}}function l(e){var t;e.done?r(e.value):(t=e.value,t instanceof s?t:new s((function(e){e(t)}))).then(o,a)}l((i=i.apply(e,t||[])).next())}))},r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const n=s(8777),o=r(s(9184)),a=r(s(8813)),l=r(s(7087)),c=r(s(3984)),u=r(s(4340)),d=r(s(7205)),h="b64cf2e5-1c39-4814-a8ab-d75e8d729c8f";t.default=class{constructor(e,t,s){this.usernameBox=new d.default(e.username,this),this.passwordBox=new c.default(e.password,this),this.emailBox=new a.default(e.email,this),this.checkBox=new o.default(e.checkbox,this),this.error=new l.default(e.error),this.register=new u.default(e.register,this),this.url=t,this.success=s}update(){return i(this,void 0,void 0,(function*(){const e=yield(0,n.$$$)(this.url.userExist,{username:this.usernameBox.getUsername(),key:h}).api().post(),t=yield(0,n.$$$)(this.url.validEmail,{email:this.emailBox.getEmail(),key:h}).api().post(),s=yield(0,n.$$$)(this.url.validPassword,{password:this.passwordBox.getPassword(),key:h}).api().post();e.success?this.usernameBox.isFilled()?t.success?s.success?this.checkBox.isChecked()?this.error.setError('<i style="color: green;\n                                border: solid green 1px;\n                                border-radius: 50%;\n                                padding: 10px;\n                                width: 30px;\n                                height: 30px;\n                                display: flex;\n                                justify-content: center;\n                                align-items: center;" class="fa-solid fa-check"></i>'):this.error.setError("Please check terms and conditions"):this.error.setError(s.error):this.error.setError(t.error):this.error.setError("Please enter username"):this.error.setError(e.error),this.register.enabled(e.success&&this.usernameBox.isFilled()&&s.success&&t.success&&this.checkBox.isChecked())}))}signup(){return i(this,void 0,void 0,(function*(){(yield(0,n.$$$)(this.url.signup,{username:this.usernameBox.getUsername(),password:this.passwordBox.getPassword(),email:this.emailBox.getEmail(),key:h}).api().post())&&($(this.success.before).addClass(this.success.beforeClass),$(this.success.after).addClass(this.success.afterClass))}))}}},7205:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.default=class{constructor(e,t){this.$username=$(e),this.$username.on("input",(e=>{t.update()}))}getUsername(){return this.removeSpace(this.$username.val())}isFilled(){return""!==this.$username.val()}removeSpace(e){return e.replace(/\s+/g,"")}}},8384:function(e,t,s){var i=this&&this.__awaiter||function(e,t,s,i){return new(s||(s=Promise))((function(r,n){function o(e){try{l(i.next(e))}catch(e){n(e)}}function a(e){try{l(i.throw(e))}catch(e){n(e)}}function l(e){var t;e.done?r(e.value):(t=e.value,t instanceof s?t:new s((function(e){e(t)}))).then(o,a)}l((i=i.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){$(".btn__ele--restore").click((function(){return i(this,void 0,void 0,(function*(){(yield(0,r.$$$)("/data/api/restoreAccount.php",{username:e.username}).api().post())&&(window.location.href="/")}))})),$(".btn__ele--delete").click((function(){return i(this,void 0,void 0,(function*(){(yield(0,r.$$$)("/data/api/deleteAccount.php",{username:e.username}).api().post())&&(window.location.href="/")}))}))};const r=s(8777)}},t={};!function s(i){var r=t[i];if(void 0!==r)return r.exports;var n=t[i]={exports:{}};return e[i].call(n.exports,n,n.exports,s),n.exports}(8384)})();
//# sourceMappingURL=restorejs83405fa6d76ba76c0b72.js.map